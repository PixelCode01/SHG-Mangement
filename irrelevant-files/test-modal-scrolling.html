<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Scrolling Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <h1 class="text-2xl font-bold mb-4">Close Period Modal Scrolling Test</h1>
    <button 
        onclick="showModal()" 
        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
    >
        Open Close Period Modal
    </button>

    <!-- Modal HTML Structure (same as the updated code) -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 hidden">
        <div class="bg-white rounded-lg w-full max-w-4xl max-h-[90vh] shadow-xl overflow-hidden flex flex-col">
            <!-- Fixed Header -->
            <div class="flex-shrink-0 p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">
                        Close Period Confirmation
                    </h3>
                    <button onclick="hideModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Scrollable Content -->
            <div class="flex-1 overflow-y-auto p-6 space-y-4">
                <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                    <div class="flex items-start">
                        <svg class="w-5 h-5 text-amber-600 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                        </svg>
                        <div>
                            <h4 class="text-sm font-medium text-amber-800">Important Notice</h4>
                            <p class="text-sm text-amber-700 mt-1">
                                Closing this period will finalize all contributions and move to the next period. 
                                This action cannot be undone.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="text-sm text-gray-600">
                    <p><strong>Current Period:</strong> June 1, 2025 - June 30, 2025</p>
                </div>
                
                <!-- Financial Summary -->
                <div class="bg-gray-50 rounded-lg p-4 space-y-3">
                    <h4 class="text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2">
                        Period Financial Summary
                    </h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-xs">
                        <!-- Starting Values -->
                        <div class="space-y-2">
                            <h5 class="font-medium text-gray-700">Starting Values (Group Creation)</h5>
                            <div class="space-y-1 pl-2 border-l-2 border-blue-200">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Cash in Hand:</span>
                                    <span class="font-medium">₹10,000</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Cash in Bank:</span>
                                    <span class="font-medium">₹25,000</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loan Assets:</span>
                                    <span class="font-medium">₹15,000</span>
                                </div>
                                <div class="flex justify-between border-t border-gray-200 pt-1">
                                    <span class="text-gray-700 font-medium">Starting Standing:</span>
                                    <span class="font-bold text-blue-600">₹50,000</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- This Period's Activity -->
                        <div class="space-y-2">
                            <h5 class="font-medium text-gray-700">This Period's Activity</h5>
                            <div class="space-y-1 pl-2 border-l-2 border-green-200">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Total Collection:</span>
                                    <span class="font-medium text-green-600">₹5,000</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span class="pl-2">↳ To Bank (user allocated):</span>
                                    <span>₹3,000</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span class="pl-2">↳ To Hand (user allocated):</span>
                                    <span>₹2,000</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Interest Earned:</span>
                                    <span class="font-medium text-blue-600">₹750</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Pending Collections:</span>
                                    <span class="font-medium text-orange-600">₹1,200</span>
                                </div>
                                <div class="flex justify-between border-t border-gray-200 pt-1">
                                    <span class="text-gray-700 font-medium">Ending Cash in Hand:</span>
                                    <span class="font-bold text-green-600">₹12,000</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-700 font-medium">Ending Cash in Bank:</span>
                                    <span class="font-bold text-blue-600">₹28,000</span>
                                </div>
                                <div class="flex justify-between border-t-2 border-gray-800 pt-1">
                                    <span class="text-gray-800 font-bold">Ending Group Standing:</span>
                                    <span class="font-bold text-gray-800 text-base">₹55,000</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional content to test scrolling -->
                <div class="space-y-4">
                    <h5 class="font-medium text-gray-700">Member Summary</h5>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                        <div class="p-3 border rounded">Member 1: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 2: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 3: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 4: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 5: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 6: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 7: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 8: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 9: ₹500 paid</div>
                        <div class="p-3 border rounded">Member 10: ₹500 paid</div>
                    </div>
                </div>

                <div class="text-xs text-gray-500 mt-3 p-2 bg-blue-50 rounded border border-blue-200">
                    <strong>Note:</strong> When closing this period, these values will be recorded as the final state.
                    Collections are allocated based on your actual inputs from the Track Contribution page.
                    This is the first period, so starting values from group creation will be included.
                </div>
            </div>

            <!-- Fixed Footer -->
            <div class="flex-shrink-0 p-6 border-t border-gray-200">
                <div class="flex space-x-3">
                    <button
                        onclick="hideModal()"
                        class="flex-1 px-4 py-2 text-sm text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50"
                    >
                        Cancel
                    </button>
                    <button
                        onclick="closePeriod()"
                        class="flex-1 px-4 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700"
                    >
                        Close Period
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showModal() {
            document.getElementById('modal').classList.remove('hidden');
        }

        function hideModal() {
            document.getElementById('modal').classList.add('hidden');
        }

        function closePeriod() {
            alert('Period closing functionality would be triggered here');
            hideModal();
        }

        // Close modal when clicking outside
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideModal();
            }
        });
    </script>

    <div class="mt-8 p-4 bg-white rounded-lg shadow">
        <h2 class="text-lg font-semibold mb-2">Modal Improvements Made:</h2>
        <ul class="list-disc list-inside space-y-1 text-sm">
            <li><strong>Increased Width:</strong> Changed from max-w-md (448px) to max-w-4xl (896px)</li>
            <li><strong>Added Height Constraint:</strong> max-h-[90vh] to prevent modal from exceeding viewport</li>
            <li><strong>Flex Layout:</strong> Used flex-col to create fixed header, scrollable content, and fixed footer</li>
            <li><strong>Scrollable Content:</strong> Added overflow-y-auto to the content area</li>
            <li><strong>Fixed Header/Footer:</strong> Header and footer remain visible while content scrolls</li>
            <li><strong>Proper Padding:</strong> Added p-4 to the modal container for mobile spacing</li>
        </ul>
    </div>
</body>
</html>
